<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>infinity</title>
  <link rel="icon" type="image/x-icon" href="images/fav.png">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.2/mdb.min.css" rel="stylesheet" />
  <style>

  </style>
</head>

<body style="background-color:rgba(255, 255, 255, 0.63);">
  <!--Main Navigation-->
  <header>
    <!-- Jumbotron -->
    <div class="p-3 text-center bg-white " style="background-color: #131921 !important;">
      <div class="container">
        <div class="row gy-3">
          <!-- Left elements -->
          <div class="col-lg-2 col-sm-4 col-4">
            <a href="/" class="float-start">
              <h2 style="color: aliceblue; font-weight: bolder;">infinity.</h2>
            </a>
          </div>
          <!-- Left elements -->



          <!-- Right elements -->
          <div class="col-lg-5 col-md-12 col-12">
            <div class="input-group float-center">
              <div class="form-outline">
                <input type="search" id="form1" class="form-control" />
                <label class="form-label" for="form1" style="color: aliceblue;">Search</label>
              </div>
              <button type="button" class="btn btn-white shadow-0">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
          <!-- Right elements -->
        </div>
      </div>
    </div>
    <!-- Jumbotron -->

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white" style="background-color: #232F3E !important;">
      <!-- Container wrapper -->
      <div class="container justify-content-center justify-content-md-between">
        <!-- Toggle button -->
        <button class="navbar-toggler  py-2 text-white" type="button" data-mdb-toggle="collapse"
          data-mdb-target="#navbarLeftAlignExample" aria-controls="navbarLeftAlignExample" aria-expanded="false"
          aria-label="Toggle navigation">
          <i class="fas fa-bars"></i>
        </button>

        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarLeftAlignExample">
          <!-- Left links -->
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <!-- Navbar dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle text-white" style="font-weight: bold;" href="#" id="navbarDropdown"
                role="button" data-mdb-toggle="dropdown" aria-expanded="false">
                SHOW CATEGORIES
              </a>
              <!-- Dropdown menu -->
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li>
                  <a class="dropdown-item " style="background-color: #232F3E;" href="#">LAPTOP</a>
                </li>
                <li>
                  <a class="dropdown-item" style="background-color: #232F3E;" href="#">SMARTPHONE</a>
                </li>

                <li>
                  <a class="dropdown-item" style="background-color: #232F3E;" href="#">HEADSET</a>
                </li>
                <li>
                  <a class="dropdown-item" style="background-color: #232F3E;" href="#">WATCHES</a>
                </li>
              </ul>
            </li>

            <li class="nav-item">
              <a class="nav-link text-white" style="font-weight: bold;" href="#">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" style="font-weight: bold;" href="#">OUR STORE</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" style="font-weight: bold;" href="#">BLOGS</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-white" style="font-weight: bold;" href="#">CONTACT</a>
            </li>

          </ul>
          <!-- Left links -->
        </div>
      </div>
      <!-- Container wrapper -->
    </nav>

    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css'>
    <section class="container-fluid bg-body-tertiary d-block" style="height: 100vh;">
      <div class="row justify-content-center " style="display: flex; align-content: center;">
        <div class="col-12 col-md-6 col-lg-4" style="min-width: 500px ;  margin-top: 100px;">
          <div class="card bg-white mb-1 mt-5 border-0"
            style="box-shadow: 0 12px 15px rgba(0, 0, 0, 0.02); display: flex; align-items: center;">
            <div class="card-body p-5 text-center">
              <h4>Verify</h4>
             
             

              <!-- Update your form to include the Resend button -->
              <form action="/verify-password" method="post">
                
                <div class="form-outline mb-4">
                    <input type="password" id="form3Example4cdg" class="form-control form-control-lg" name="password" required
                      style="background-color: #d9d9d99d;" />
                    <label class="form-label" for="form3Example4cdg">Password</label>
                  </div>
                  <input type="hidden" name="email" value="<% email %>" >
                  <div class="form-outline mb-4">
                    <input type="password" id="form3Example4cdg" class="form-control form-control-lg" name="confirmPassword" required
                      style="background-color: #d9d9d99d;" />
                    <label class="form-label" for="form3Example4cdg">Confirm Password</label>
                  </div>

                <button class="btn mb-3" id="resend" style="background-color: #131921; color: white;" type="submit">
                  Submit
                </button>

              </form>


              <p class="resend text-muted mb-0">
                Didn't receive code? <a href="">Request again</a>
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      var timeLeft = 30;
      var elem = document.getElementById('otp-timer');
      var timerId = setInterval(countdown, 1000);

      function countdown() {

        if (timeLeft == -1) {
          document.getElementById("resend").style.display = "block"
          Element.innerHTML = ''
          clearTimeout(timerId);

          // doSomething();

        } else {
          elem.innerHTML = ' resend OTP in :' + timeLeft
          timeLeft--;
        }
      }

      function enableResendButton() {
        document.getElementById("resend").removeAttribute("disabled");
      }
    </script>

    <script>
      const inputs = document.querySelectorAll(".otp-field > input");
      const button = document.querySelector(".btn");

      window.addEventListener("load", () => inputs[0].focus());
      button.setAttribute("disabled", "disabled");

      inputs[0].addEventListener("paste", function (event) {
        event.preventDefault();

        const pastedValue = (event.clipboardData || window.clipboardData).getData(
          "text"
        );
        const otpLength = inputs.length;

        for (let i = 0; i < otpLength; i++) {
          if (i < pastedValue.length) {
            inputs[i].value = pastedValue[i];
            inputs[i].removeAttribute("disabled");
            inputs[i].focus;
          } else {
            inputs[i].value = ""; // Clear any remaining inputs
            inputs[i].focus;
          }
        }
      });

      inputs.forEach((input, index1) => {
        input.addEventListener("keyup", (e) => {
          const currentInput = input;
          const nextInput = input.nextElementSibling;
          const prevInput = input.previousElementSibling;

          if (currentInput.value.length > 1) {
            currentInput.value = "";
            return;
          }

          if (
            nextInput &&
            nextInput.hasAttribute("disabled") &&
            currentInput.value !== ""
          ) {
            nextInput.removeAttribute("disabled");
            nextInput.focus();
          }

          if (e.key === "Backspace") {
            inputs.forEach((input, index2) => {
              if (index1 <= index2 && prevInput) {
                input.setAttribute("disabled", true);
                input.value = "";
                prevInput.focus();
              }
            });
          }

          button.classList.remove("active");
          button.setAttribute("disabled", "disabled");

          const inputsNo = inputs.length;
          if (!inputs[inputsNo - 1].disabled && inputs[inputsNo - 1].value !== "") {
            button.classList.add("active");
            button.removeAttribute("disabled");

            return;
          }
        });
      });
    </script>

    <style>
      .otp-field {
        flex-direction: row;
        column-gap: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .otp-field input {
        height: 45px;
        width: 42px;
        border-radius: 6px;
        outline: none;
        font-size: 1.125rem;
        text-align: center;
        border: 1px solid #ddd;
      }

      .otp-field input:focus {
        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
      }

      .otp-field input::-webkit-inner-spin-button,
      .otp-field input::-webkit-outer-spin-button {
        display: none;
      }

      .resend {
        font-size: 12px;
      }

      .footer {
        position: absolute;
        bottom: 10px;
        right: 10px;
        color: black;
        font-size: 12px;
        text-align: right;
        font-family: monospace;
      }

      .footer a {
        color: black;
        text-decoration: none;
      }
    </style>

    <!-- include footer -->
    <%- include('include/_footer') %>
      <!-- /include footer -->